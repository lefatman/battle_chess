the elemental type and piece attribute abilities are slotted **before** each match.

# Global rules used by all abilities

* **Ranks:** King=5, Queen=4, Rook/Bishop=3, Knight=2, Pawn=1.
* **Phasing (when granted):** You may move *through* occupied enemy squares while sliding. You must still **end** on an empty square or on a square you capture by normal rules.
* **Elemental abilities:** Picking an element equips **all** abilities for that element on **all** of your pieces.

---

# Element abilities

(Registered: **Scorch, Blaze Rush, Flood Wake, Mist Shroud, Bastion, Sturdy, Gale Lift, Tailwind, Scatter Shot, Overload, Raijin, Radiant Vision, Umbral Step**.)

### Scorch (Fire)

**Effect:** Any square you **leave** becomes impassable to **lower-rank enemy** pieces for **3 full turns**. Water pieces ignore Scorch.
**How it plays:** Create temporary firewalls to shape lanes and protect retreats.

### Blaze Rush (Fire)

**Effect:** After a **primary capture**, you may resolve **one extra DK *or* one extra QK** (your choice). Versus **Earth**, you may resolve **both** once each if legal.
**How it plays:** Deterministic burst. Extend a takedown chain; strongest against Earth.

### Flood Wake (Water)

**Effect:** When **Do-Over** rewinds, any **enemy pieces your side captured in the rewound 2 plies stay removed**. All other board state rewinds normally.
**How it plays:** Rewind without giving back your recent kills.

### Mist Shroud (Water)

**Effect (discrete):** All your pieces also gain **Quantum Step** (QS) in addition to their chosen movement augmentor.
**How it plays:** Universal post-move blink/swap across your army.

### Bastion (Earth)

**Effect:** If you have **Block Piece**, its shield is a **180° cone**. When an enemy capture is **blocked** by **Bastion/Stalwart/Belligerent**, that attacker is **knocked back 1–3 empty squares** in a random outward direction. **Air** pieces ignore knockback.
**How it plays:** Wide frontal denial; failed assaults rebound.

### Sturdy (Earth)

**Effect:** If a piece has **no defensive augmentor** (Stalwart/Belligerent/Indomitable), its **first would-be capture is ignored**. Consume Sturdy on use.
**How it plays:** One free survive for naked units.

### Gale Lift (Air)

**Effect:** **Phasing ON** while moving. If the same piece also has **Bastion**, **Bastion suppresses phasing** for that move.
**How it plays:** Slide through screens; Bastion takes precedence when present.

### Tailwind (Air)

**Effect:** **+2 move segments/steps** to your move budget. If the piece has **Quantum Step**, it also gains **Chain Kill**; if it has **Chain Kill**, it also gains **Quantum Step**.
**How it plays:** Longer routes and built-in CK↔QS synergy.

### Scatter Shot (Air)

**Effect:** **Pawns** may capture **horizontally by 1** when adjacent.
**How it plays:** Edge guards and file breaks for pawns.

### Overload (Lightning)

**Effect:** Ability loadouts are chosen **per-piece** instead of army-wide during pre-match slotting.
**How it plays:** Fine-grained builds; each unit can differ.

### Raijin (Lightning)

**Effect:** Your **QK ignores Indomitable**. If the piece has **Quantum Step**, after QS you may perform **one additional legal capture** from the new square (DK/QK eligibility still follows normal limits).
**How it plays:** Lightning strikes through immunity; QS can convert into a follow-up kill.

### Radiant Vision (Light)

**Effect:** **Counters Mist Shroud** against you: enemy QS still works, but **you always see legal lines**; no concealment. Your sliders **evaluate threats through the first blocker for check/threat purposes** (capture still needs a clear path).
**How it plays:** Perfect information for targeting; anti-fog.

### Blinding (Light)

**Effect:** If **Do-Over** triggers for your side, **you take the next turn immediately** after the rewind.
**How it plays:** Tempo steal on time resets.

### Light Speed (Light)

**Effect:** **Element effects resolve before non-element abilities** on your moves and on defense.
**How it plays:** Priority bump for Light users in the resolver.

### Anarchist Streak (Shadow)

**Effect:** **Ignore all rank checks** in abilities (DK/QK/Stalwart/Belligerent/Scorch gating, etc.). Other conditions still apply.
**How it plays:** Power cuts through rank limits; cones and immunities still matter.

### Sadist Streak (Shadow)

**Effect:** **Poisonous Meat** becomes **delayed**. If your poisoned unit is captured, mark the captor. After **2 of that opponent’s turns**, remove the **marked captor** **and** any **enemy pieces it directly contacted** during the delay. If the capture was by **QK or DK**, delay is **3 turns** and only the **marked captor** is removed. If the marked piece dies earlier, the mark fizzles.
**How it plays:** Time-bomb reprisals that punish overextension.



---

# Movement augmentors

(IDs: **Side Step, Block Piece, Quantum Step, Stalwart, Belligerent, Indomitable**.)

### Side Step

**Effect:** Grants **8 one-square offsets** usable **once at the end** of a move; costs **1 step** from your budget.
**How it plays:** Land, then “nudge” one square.

### Block Piece (a.k.a. Block Path)

**Effect (discrete):** **Directional shield.** Until the opponent finishes their next turn, **captures that *originate* from inside your chosen cone are illegal**. Default **90°**; **180° with Bastion**.
**How it plays:** Persistent facing shield; on your next move you re-select or keep the facing.

### Quantum Step

**Effect (discrete):** **Once per turn after your move/capture resolves**, either **swap** with an adjacent **friendly of lower rank** or **blink** into an adjacent **empty** square.
**How it plays:** Post-move reposition. No inherent remove.

### Stalwart

**Effect (defensive):** **Lower-rank pieces cannot capture** this piece. **No phasing through** this piece.
**How it plays:** Immune to pick-offs by weaker units.

### Belligerent

**Effect (defensive):** **Higher-rank pieces cannot capture** this piece. **No phasing through** this piece.
**How it plays:** Only equal or weaker units can take you.

### Indomitable (spelled “Idomitable” in code)

**Effect:** **Immune to ability-based removals** (DK extra, QK, PM, delayed PM). Still capturable by **normal** chess capture. **Cannot be phased through**.
**How it plays:** Only direct capture works; bonus removals fail.

---

# Offense abilities

(Registered: **Double Kill, Quantum Kill, Chain Kill, Poisonous Meat**.)

### Double Kill (DK)

**Trigger:** After your **primary capture**.
**Effect (discrete):** Remove **one enemy adjacent** to the **captured square** with **rank ≤ victim’s rank**. Cannot remove **King** or **Indomitable**.
**How it plays:** Pop a nearby straggler after a take.

### Quantum Kill (QK) — redefined per your spec

**Trigger:** After your **primary capture** (once per turn).
**Effect (discrete):** Remove **one enemy anywhere** with **rank ≤ victim’s rank** (not King, not Indomitable; but see **Raijin**).
**How it plays:** Board-wide snipe at equal/lower rank.

### Chain Kill (CK) — redefined per your spec

**Trigger:** When you declare a **capture** with this piece.
**Effect (discrete):** Traverse a contiguous chain of **adjacent friendlies** (8-neighbors). Treat the **last friendly** as a **virtual origin**, then perform **one** legal capture using this piece’s normal rules from that origin. Chain may turn; no gaps; no enemies in chain; no captures along the chain. If no legal capture exists from the virtual origin, the move is illegal. King safety still applies.
**How it plays:** Hop link-to-link over allies to angle a single capture.

### Poisonous Meat (PM)

**Trigger:** When this piece is **captured by a strictly higher rank**.
**Effect (discrete):** **Also remove the captor.** No chain reactions. Does not trigger on equal/lower-rank captures, non-capture removals, or **Indomitable**. See **Sadist Streak** for delayed variant.
**How it plays:** Trade up on contact.

---

# Temporal abilities

(Registered: **Do-Over, Resurrection, Temporal Lock, Schrodinger’s Laugh**.)

### Do-Over

**Trigger:** When this piece **would be captured** (by primary, DK, QK, or delayed PM).
**Effect (discrete):** **Interrupt** and **rewind 2 plies** (your last + opponent’s last). One use per piece. See **Flood Wake** and **Blinding** for modifiers.
**How it plays:** Cancels the whole stack if it fires; board snaps back.

### Resurrection

**Trigger:** Immediately **after you capture**.
**Effect (discrete):** If you have missing pieces, **return one** of **rank ≤ the victim’s rank** to **any empty square in your back two ranks**. One resurrection per triggering capture.
**How it plays:** Convert kills into material recovery behind your lines.

### Temporal Lock

**Effect (discrete):** Target **enemy piece** cannot **move or capture** for **2 of its own turns**. It still blocks lines and may be captured.
**How it plays:** Freeze a threat; pin lanes without removing.

### Schrodinger’s Laugh

**Effect:** Create a **second copy** of the piece on an **adjacent empty** square. Both occupy the board. **Any capture on either removes both.** Both may move; **only one capture per turn** between them.
**How it plays:** Two-place presence and fork pressure at high risk.

---

## Stacking & conflicts (concise)

1. **Order base:** Primary capture → DK → QK → PM → End-of-move (QS, Side Step) → Turn end.
2. **Light Speed:** Element effects (e.g., **Blaze Rush**, **Flood Wake**, **Raijin**) resolve **before** non-element abilities.
3. **Interrupts:** **Do-Over** interrupts and rewinds before any remaining effects; **Flood Wake** persists your side’s kills; **Blinding** grants you the post-rewind turn.
4. **Immunities:** **Indomitable** stops ability-based removals. **Raijin** lets **QK ignore Indomitable**. **Stalwart/Belligerent** stop captures by rank; with **Anarchist Streak**, rank checks are ignored for both sides’ abilities.
5. **Facing vs Phasing:** **Bastion** suppresses **Gale Lift** phasing on that move. **Stalwart/Belligerent/Indomitable** cannot be phased through.
6. **Knockback:** Triggers only when a capture is **blocked** by Bastion/Stalwart/Belligerent. Destination squares must be empty; choose a random outward direction; if all blocked, no move. **Air** attackers ignore knockback.
7. **Tailwind synergy:** Grants **CK↔QS** both if either present; extra steps apply after your base move pathing.
8. **Overload scope:** With **Overload**, ability assignment is **per-piece**; without it, assignment is **army-wide**.
9. **Sadist Streak:** Converts **PM** into a delayed mark; if the marked unit dies or is removed before the timer, the mark fizzles.
10. **Scorch walls:** Scorch does not stop **equal/higher rank** or **Water**. A scorched square still blocks **phasing endpoints**.
11. **Radiant Vision vs Mist:** Radiant Vision negates Mist’s concealment for the Light player only; it does not stop enemy QS.
12. **Sturdy:** Consumed on first would-be capture only if the unit lacks Stalwart/Belligerent/Indomitable.

## Capture resolution order (deterministic)

1. **Declare move/capture** (CK chain chosen now if applicable).
2. **Element pre-checks** if **Light Speed** (Raijin, Blaze Rush eligibility, Flood Wake flags).
3. **Primary capture** resolves.
4. **Poisonous Meat check** (immediate PM) or **mark** if **Sadist Streak** applies.
5. **Double Kill (DK)** resolves if eligible; **Blaze Rush** may grant **an extra DK** now.
6. **Quantum Kill (QK)** resolves if eligible; apply **Raijin** (ignore Indomitable) and **Blaze Rush** (extra QK or both vs Earth).
7. **Resurrection** triggers for the mover, then **Temporal Lock** if used this turn.
8. **Delayed effects queue update** (Sadist marks tick).
9. **Do-Over window** for any captured piece with Do-Over. If fired: apply **Flood Wake**, then **Blinding** gives the rewinding side the next move; re-start from step 1 of the new state.
10. **End-of-move mobility**: **Quantum Step**, **Side Step**; then **Gale/Bastion** interactions finalize.
11. **Turn ends**; decrement **Scorch** timers; tick **Temporal Lock** and **Sadist** marks.

---

### Piece-type notes (so this stays “chess”)

* **Sliders (Q/R/B):** Must have clear lines to **land** captures even when phasing; **Radiant Vision** only aids **threat evaluation**, not landing through blockers.
* **Knight:** Ignores screens as normal; CK uses the Knight’s **L** from the virtual origin.
* **King:** Still 1 square per segment; cannot move into, through, or remain in check; cannot be removed by DK/QK.
* **Pawn:** **Scatter Shot** allows **horizontal capture by 1** when adjacent.

That’s everything—discrete, deterministic, and wired for an engine: predicates like `CanDK`, `CanQK`, `ApplyScorch`, `ApplyKnockback`, `ResolveQS`, and a resolver implementing the order above.
